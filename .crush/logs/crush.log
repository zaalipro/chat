{"time":"2025-08-18T13:22:41.307518+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/zaali/.local/share/crush/providers.json"}
{"time":"2025-08-18T13:22:41.309507+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-18T13:22:41.842419+04:00","level":"INFO","msg":"OK   20250424200609_initial.sql (805.88µs)"}
{"time":"2025-08-18T13:22:41.842712+04:00","level":"INFO","msg":"OK   20250515105448_add_summary_message_id.sql (273.75µs)"}
{"time":"2025-08-18T13:22:41.842925+04:00","level":"INFO","msg":"OK   20250624000000_add_created_at_indexes.sql (200.63µs)"}
{"time":"2025-08-18T13:22:41.843159+04:00","level":"INFO","msg":"OK   20250627000000_add_provider_to_messages.sql (225.46µs)"}
{"time":"2025-08-18T13:22:41.843164+04:00","level":"INFO","msg":"goose: successfully migrated database to version: 20250627000000"}
{"time":"2025-08-18T13:22:41.84325+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":19},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-18T13:22:41.845405+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-18T13:22:41.845539+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-18T13:22:41.84662+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-18T13:22:41.846662+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-18T13:22:42.402608+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/zaali/.local/share/crush/providers.json"}
{"time":"2025-08-18T13:22:46.099081+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-18T13:22:46.099179+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-18T13:22:46.101765+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":177},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-18T13:22:46.101832+04:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":179},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-18T13:22:46.472386+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-18T13:22:46.600917+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-18T13:22:46.740757+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-18T13:22:46.935071+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-18T13:22:47.075404+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-18T13:22:47.215689+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-18T13:22:47.393112+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-18T13:22:47.526738+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-18T13:22:47.699087+04:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":371},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-18T13:25:04.625755+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-18T13:25:04.836751+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-18T13:25:04.971022+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-18T13:25:05.150356+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-18T13:25:05.297684+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-18T13:25:05.459034+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-18T13:25:05.633998+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-18T13:25:05.775637+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-18T13:25:05.947289+04:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":371},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-18T13:27:40.291621+04:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":371},"msg":"failed to process events: POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CSEwLM6cGFrLouuRGhsXE) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}"}
{"time":"2025-08-18T13:27:52.260321+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-18T13:27:52.434121+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-18T13:27:52.573483+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-18T13:27:52.70607+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-18T13:27:52.870417+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-18T13:27:52.996788+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-18T13:27:53.124319+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-18T13:27:53.278543+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-18T13:27:53.468889+04:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":371},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-18T13:28:04.89928+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-18T13:28:05.161466+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-18T13:28:05.338273+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-18T13:28:05.643163+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-18T13:28:05.792107+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-18T13:28:05.959359+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-18T13:28:06.093573+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-18T13:28:06.283611+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-18T13:28:06.446965+04:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":371},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-18T13:29:01.35836+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-18T13:29:01.509682+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-18T13:29:01.657322+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-18T13:29:01.801071+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-18T13:29:01.99072+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-18T13:29:02.170998+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-18T13:29:02.305795+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-18T13:29:02.504605+04:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":466},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-18T13:29:02.715426+04:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":371},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
